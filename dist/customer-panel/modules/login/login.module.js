angular.module("loginModule",["constantModule"]).controller("loginCtrl",["$scope","$http","URL","mainURL","$state","$stateParams",function(e,o,t,r,n,s){e.login={},e.show={login:!1,register:!1},e.text={register:"SIGN UP NOW",login:"LOGIN",error:void 0},e.register={user_level:["user"],status:"inactive"},e.loginNow=function(i){e.text.login="Please wait..!",o({url:r+t.login,method:"POST",data:i}).then(function(e){e.data&&(localStorage.setItem("token",e.data.data.login_token),n.go("main.dashboard",s,{reload:!0}))},function(o){console.log("error",o),e.show.login=!0,e.text.login="LOG IN",setTimeout(function(){e.show={}},2e3),e.login={},e.text.error=o.data.error})},e.registerNow=function(s){s.city="s",s.age=45,s.gender="male",e.text.register="Please wait..!",console.log(s),o({url:r+t.register,method:"POST",data:[s]}).then(function(o){console.log("asdasdasdass",o),e.show.success="ddd",setTimeout(function(){n.go("main.home")},2e3)},function(o){console.log("error",o),e.text.register="SIGN UP NOW",e.show.register=!0,e.register={},setTimeout(function(){e.show={}},2e3),e.text.error=o.data.error})}}]);